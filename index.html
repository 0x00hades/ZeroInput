<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zero Input - ØªØ¬Ø±Ø¨Ø© ØªÙˆØ¹ÙˆÙŠØ©</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: #fff;
        padding: 20px;
        position: relative;
      }

      .container {
        max-width: 800px;
        width: 100%;
        text-align: center;
      }

      h1 {
        font-size: clamp(2rem, 5vw, 3.5rem);
        margin-bottom: 1.5rem;
        font-weight: 300;
        line-height: 1.4;
        opacity: 0;
        animation: fadeInUp 0.8s ease forwards;
      }

      h2 {
        font-size: clamp(1.5rem, 4vw, 2.5rem);
        margin-bottom: 3rem;
        font-weight: 300;
        opacity: 0;
        animation: fadeInUp 0.8s ease 0.2s forwards;
      }

      .btn {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.8);
        color: #fff;
        padding: 18px 50px;
        font-size: 1.3rem;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
        font-weight: 500;
        opacity: 0;
        animation: fadeInUp 0.8s ease 0.4s forwards;
      }

      .btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .btn:active {
        transform: translateY(0);
      }

      .landing {
        display: block;
      }

      .reveal-section {
        display: none;
      }

      .reveal-section.active {
        display: block;
      }

      .info-item {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 30px;
        margin: 20px 0;
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.5s ease;
      }

      .info-item.show {
        opacity: 1;
        transform: translateY(0);
      }

      .info-label {
        font-size: 1rem;
        opacity: 0.8;
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .info-value {
        font-size: clamp(1.8rem, 4vw, 2.8rem);
        font-weight: 600;
        margin-top: 5px;
      }

      .final-message {
        margin-top: 60px;
        margin-bottom: 100px;
        opacity: 0;
        transform: scale(0.9);
        transition: all 0.6s ease;
      }

      .final-message.show {
        opacity: 1;
        transform: scale(1);
      }

      .final-message h2 {
        font-size: clamp(1.8rem, 4vw, 2.8rem);
        margin-bottom: 1rem;
        font-weight: 400;
        opacity: 1;
        animation: none;
      }

      .final-message p {
        font-size: clamp(1.3rem, 3vw, 2rem);
        margin-bottom: 2rem;
        font-weight: 300;
      }

      footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 20px;
        text-align: center;
        font-size: 0.85rem;
        opacity: 0.7;
        background: rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(5px);
      }

      footer p {
        margin: 5px 0;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .emoji {
        font-size: 3rem;
        margin-bottom: 20px;
        display: inline-block;
        animation: pulse 2s ease-in-out infinite;
      }

      /* Responsive adjustments */
      @media (max-width: 600px) {
        .btn {
          padding: 15px 40px;
          font-size: 1.1rem;
        }

        .info-item {
          padding: 25px 20px;
        }

        footer {
          font-size: 0.75rem;
          padding: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Landing Section -->
      <div class="landing" id="landing">
        <div class="emoji">ğŸ•µï¸</div>
        <h1>Ø£Ù†Ø§ Ù…Ø¹Ø±ÙØ´ Ø¹Ù†Ùƒ Ø£ÙŠ Ø­Ø§Ø¬Ø©</h1>
        <h2>ÙˆÙ„Ø§ Ø·Ù„Ø¨Øª Ù…Ù†Ùƒ ØªÙƒØªØ¨ Ø£ÙŠ Ø­Ø§Ø¬Ø©</h2>
        <button class="btn" onclick="startExperience()">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¬Ø±Ø¨Ø©</button>
      </div>

      <!-- Reveal Section -->
      <div class="reveal-section" id="revealSection">
        <div id="infoContainer"></div>

        <div class="final-message" id="finalMessage">
          <h2>ÙƒÙ„ Ø¯Ù‡ Ù…Ù† ØºÙŠØ± Ù…Ø§ ØªÙƒØªØ¨ ÙˆÙ„Ø§ Ø­Ø±Ù</h2>
          <p>ØªØ®ÙŠÙ„ Ù„Ùˆ ÙƒØªØ¨Øª</p>
          <button class="btn" onclick="resetExperience()">Ø¬Ø±Ù‘Ø¨ ØªØ§Ù†ÙŠ</button>
        </div>
      </div>
    </div>

    <footer>
      <p>Ù‡Ø°Ù‡ ØªØ¬Ø±Ø¨Ø© ØªØ±ÙÙŠÙ‡ÙŠØ© / ØªÙˆØ¹ÙˆÙŠØ©</p>
      <p>Ù„Ø§ ØªØ¬Ù…Ø¹ Ø£Ùˆ ØªØ®Ø²Ù† Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø®ØµÙŠØ©</p>
    </footer>

    <script>
      // Detect user information
      async function getUserInfo() {
        const info = [];
        const ua = navigator.userAgent;

        // Device Type & Brand
        let deviceInfo = "ğŸ’» ÙƒÙ…Ø¨ÙŠÙˆØªØ±";
        const isMobile =
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            ua,
          );

        if (isMobile) {
          // Try to detect phone brand
          if (/iPhone/.test(ua)) deviceInfo = "ğŸ“± iPhone";
          else if (/iPad/.test(ua)) deviceInfo = "ğŸ“± iPad";
          else if (/Samsung/.test(ua)) deviceInfo = "ğŸ“± Samsung";
          else if (/Huawei/.test(ua)) deviceInfo = "ğŸ“± Huawei";
          else if (/Xiaomi/.test(ua)) deviceInfo = "ğŸ“± Xiaomi";
          else if (/Oppo/.test(ua)) deviceInfo = "ğŸ“± Oppo";
          else if (/Vivo/.test(ua)) deviceInfo = "ğŸ“± Vivo";
          else if (/OnePlus/.test(ua)) deviceInfo = "ğŸ“± OnePlus";
          else if (/Nokia/.test(ua)) deviceInfo = "ğŸ“± Nokia";
          else if (/Pixel/.test(ua)) deviceInfo = "ğŸ“± Google Pixel";
          else if (/Realme/.test(ua)) deviceInfo = "ğŸ“± Realme";
          else deviceInfo = "ğŸ“± Ù…ÙˆØ¨Ø§ÙŠÙ„";
        } else {
          // Try to detect computer type
          if (/Macintosh/.test(ua)) deviceInfo = "ğŸ’» Mac";
          else if (/Windows/.test(ua)) deviceInfo = "ğŸ’» Windows PC";
          else if (/Linux/.test(ua)) deviceInfo = "ğŸ’» Linux PC";
          else deviceInfo = "ğŸ’» ÙƒÙ…Ø¨ÙŠÙˆØªØ±";
        }

        info.push({
          label: "Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù‡Ø§Ø²",
          value: deviceInfo,
        });

        // Operating System with Version
        let os = "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";

        // Windows
        if (/Windows NT 10.0/.test(ua)) os = "ÙˆÙŠÙ†Ø¯ÙˆØ² 10/11";
        else if (/Windows NT 6.3/.test(ua)) os = "ÙˆÙŠÙ†Ø¯ÙˆØ² 8.1";
        else if (/Windows NT 6.2/.test(ua)) os = "ÙˆÙŠÙ†Ø¯ÙˆØ² 8";
        else if (/Windows NT 6.1/.test(ua)) os = "ÙˆÙŠÙ†Ø¯ÙˆØ² 7";
        else if (/Windows/.test(ua)) os = "ÙˆÙŠÙ†Ø¯ÙˆØ²";
        // macOS
        else if (/Mac OS X 10[._]15/.test(ua)) os = "macOS Catalina";
        else if (/Mac OS X 10[._]14/.test(ua)) os = "macOS Mojave";
        else if (/Mac OS X 10[._]13/.test(ua)) os = "macOS High Sierra";
        else if (/Mac OS X/.test(ua)) {
          const match = ua.match(/Mac OS X (\d+)[._](\d+)/);
          os = match ? `macOS 10.${match[2]}` : "macOS";
        }

        // Android with version
        else if (/Android/.test(ua)) {
          const match = ua.match(/Android\s+([\d.]+)/);
          os = match ? `Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ ${match[1]}` : "Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯";
        }

        // iOS with version
        else if (/iPhone|iPad|iPod/.test(ua)) {
          const match = ua.match(/OS (\d+)[._](\d+)/);
          os = match ? `iOS ${match[1]}.${match[2]}` : "iOS";
        }

        // Linux
        else if (/Linux/.test(ua)) os = "Ù„ÙŠÙ†ÙƒØ³";

        info.push({
          label: "Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„",
          value: os,
        });

        // Browser Detection (More Accurate)
        let browser = "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";

        // Check for specific browsers first (order matters!)
        if (/Edg\//.test(ua)) {
          const match = ua.match(/Edg\/([\d.]+)/);
          browser = match ? `Edge ${match[1].split(".")[0]}` : "Edge";
        } else if (/OPR\/|Opera/.test(ua)) {
          const match = ua.match(/(?:OPR|Opera)[\/\s]([\d.]+)/);
          browser = match ? `Opera ${match[1].split(".")[0]}` : "Opera";
        } else if (/Firefox\//.test(ua)) {
          const match = ua.match(/Firefox\/([\d.]+)/);
          browser = match
            ? `ğŸ¦Š Firefox ${match[1].split(".")[0]}`
            : "ğŸ¦Š Firefox";
        } else if (
          /Brave\//.test(ua) ||
          (navigator.brave && typeof navigator.brave.isBrave === "function")
        ) {
          browser = "ğŸ¦ Brave";
        } else if (/Chrome\//.test(ua) && /Safari\//.test(ua)) {
          const match = ua.match(/Chrome\/([\d.]+)/);
          browser = match ? `ğŸŒ Chrome ${match[1].split(".")[0]}` : "ğŸŒ Chrome";
        } else if (/Safari\//.test(ua) && !/Chrome/.test(ua)) {
          const match = ua.match(/Version\/([\d.]+)/);
          browser = match ? `ğŸ§­ Safari ${match[1].split(".")[0]}` : "ğŸ§­ Safari";
        }

        info.push({
          label: "Ø§Ù„Ù…ØªØµÙØ­",
          value: browser,
        });

        // Language
        const lang = navigator.language || navigator.userLanguage;
        let displayLang = lang;
        if (lang.startsWith("ar")) displayLang = "ğŸ‡ªğŸ‡¬ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©";
        else if (lang.startsWith("en")) displayLang = "ğŸ‡¬ğŸ‡§ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©";
        else if (lang.startsWith("fr")) displayLang = "ğŸ‡«ğŸ‡· Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©";
        else if (lang.startsWith("es")) displayLang = "ğŸ‡ªğŸ‡¸ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©";

        info.push({
          label: "Ø§Ù„Ù„ØºØ©",
          value: displayLang,
        });

        // Local Time (in English format)
        const now = new Date();
        const timeStr = now.toLocaleTimeString("en-US", {
          hour: "2-digit",
          minute: "2-digit",
          hour12: true,
        });

        info.push({
          label: "Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ù„ÙŠ",
          value: "ğŸ• " + timeStr,
        });

        // Dark Mode Preference
        if (window.matchMedia) {
          const prefersDark = window.matchMedia(
            "(prefers-color-scheme: dark)",
          ).matches;
          info.push({
            label: "Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…ÙØ¶Ù„",
            value: prefersDark ? "ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ" : "â˜€ï¸ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ",
          });
        }

        // Screen Resolution
        info.push({
          label: "Ø¯Ù‚Ø© Ø§Ù„Ø´Ø§Ø´Ø©",
          value: `ğŸ“º ${screen.width} Ã— ${screen.height}`,
        });

        // Timezone
        const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        info.push({
          label: "Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©",
          value: timezone,
        });

        // Location - Try GPS first, fallback to IP
        let locationAdded = false;
        
        // Try GPS Geolocation API
        if (navigator.geolocation) {
          try {
            const position = await new Promise((resolve, reject) => {
              navigator.geolocation.getCurrentPosition(resolve, reject, {
                timeout: 5000,
                maximumAge: 0
              });
            });
            
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            
            // Reverse geocoding to get city name
            try {
              const geoResponse = await fetch(
                `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&accept-language=ar`
              );
              const geoData = await geoResponse.json();
              
              const city = geoData.address.city || geoData.address.town || geoData.address.village || geoData.address.state;
              const country = geoData.address.country;
              
              if (city && country) {
                info.push({
                  label: "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ (GPS)",
                  value: `ğŸ“ ${city}, ${country}`,
                });
                locationAdded = true;
              }
            } catch (e) {
              console.log('Reverse geocoding failed');
            }
          } catch (error) {
            console.log('GPS location denied or failed');
          }
        }
        
        // Fallback to IP Geolocation if GPS failed
        if (!locationAdded) {
          try {
            const response = await fetch('https://ipapi.co/json/');
            const data = await response.json();
            
            if (data.city && data.country_name) {
              info.push({
                label: "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ (IP)",
                value: `ğŸ“ ${data.city}, ${data.country_name}`,
              });
            } else if (data.country_name) {
              info.push({
                label: "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ (IP)",
                value: `ğŸ“ ${data.country_name}`,
              });
            }
          } catch (error) {
            console.log('IP location detection failed');
          }
        }

        return info;
      }

      async function startExperience() {
        // Hide landing
        document.getElementById("landing").style.display = "none";

        // Show reveal section
        const revealSection = document.getElementById("revealSection");
        revealSection.classList.add("active");

        // Get user info
        const userInfo = await getUserInfo();
        const container = document.getElementById("infoContainer");

        // Clear container
        container.innerHTML = "";

        // Reveal items one by one
        userInfo.forEach((item, index) => {
          setTimeout(() => {
            const infoItem = document.createElement("div");
            infoItem.className = "info-item";
            infoItem.innerHTML = `
                        <div class="info-label">${item.label}</div>
                        <div class="info-value">${item.value}</div>
                    `;
            container.appendChild(infoItem);

            // Trigger animation
            setTimeout(() => {
              infoItem.classList.add("show");
            }, 50);

            // Show final message after last item
            if (index === userInfo.length - 1) {
              setTimeout(() => {
                document.getElementById("finalMessage").classList.add("show");
              }, 800);
            }
          }, index * 600);
        });
      }

      function resetExperience() {
        // Hide reveal section
        const revealSection = document.getElementById("revealSection");
        revealSection.classList.remove("active");

        // Clear final message
        document.getElementById("finalMessage").classList.remove("show");

        // Show landing
        setTimeout(() => {
          document.getElementById("landing").style.display = "block";
        }, 300);
      }
    </script>
  </body>
</html>
